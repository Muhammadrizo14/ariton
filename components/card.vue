<template>
  <div class="p-4 card bg-brand-white rounded-xl">
    <div class="flex flex-col gap-2 ">
      <svg width="34" v-if="props.new" height="27" viewBox="0 0 34 27" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="34" height="27" rx="6" fill="#00B94A" fill-opacity="0.11"/>
        <g clip-path="url(#clip0_123_1233)">
          <path d="M11.8664 10.5C12.898 10.5 13.7336 9.71687 13.7336 8.75C13.7336 7.78312 12.898 7 11.8664 7C10.8356 7 10 7.78312 10 8.75C10 9.71687 10.8356 10.5 11.8664 10.5ZM22.5965 10.4965C23.3691 10.4965 23.9965 9.90937 23.9965 9.184C23.9965 8.4595 23.37 7.8715 22.5965 7.8715C21.823 7.8715 21.1965 8.4595 21.1965 9.184C21.1965 9.90937 21.823 10.4965 22.5965 10.4965ZM12.3292 20.1224C13.1027 20.1224 13.7292 19.5344 13.7292 18.8099C13.7292 18.0845 13.1027 17.4974 12.3292 17.4974C11.5566 17.4974 10.9292 18.0845 10.9292 18.8099C10.9292 19.5344 11.5566 20.1224 12.3292 20.1224Z" fill="#00B94A"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M17.4664 7L20.2664 11.375L24 14L20.2664 16.625L17.4664 21L14.6664 16.625L10.9337 14L14.6664 11.375L17.4664 7Z" fill="#00B94A"/>
        </g>
        <defs>
          <clipPath id="clip0_123_1233">
            <rect width="14" height="14" fill="white" transform="translate(10 7)"/>
          </clipPath>
        </defs>
      </svg>
      <svg v-if="props.top" width="34" height="27" viewBox="0 0 34 27" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="34" height="27" rx="6" fill="#A468FF" fill-opacity="0.11"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M15.023 7.81695C15.0633 7.5986 15.1751 7.39986 15.3408 7.25208C15.5066 7.10429 15.7167 7.01587 15.9383 7.00074C16.1598 6.98561 16.3801 7.04464 16.5643 7.16853C16.7486 7.29241 16.8864 7.4741 16.956 7.68495L19 13.999L22.873 10.489C23.0319 10.3409 23.2348 10.2487 23.4508 10.2262C23.6668 10.2038 23.8843 10.2524 24.0703 10.3646C24.2562 10.4769 24.4005 10.6467 24.4813 10.8483C24.5621 11.0499 24.575 11.2724 24.518 11.482L23.275 16.12C23.108 16.765 22.893 17.675 22.917 17.968C22.95 18.669 23.375 19.038 23.528 19.15C23.7117 19.2652 23.8531 19.437 23.9308 19.6395C24.0084 19.842 24.0182 20.0643 23.9587 20.2728C23.8991 20.4814 23.7734 20.6649 23.6005 20.7959C23.4276 20.9269 23.2169 20.9981 23 20.999H13.26L13 21.001V20.999H11.012C10.7979 20.9985 10.5896 20.9295 10.4177 20.8019C10.2458 20.6744 10.1192 20.4951 10.0567 20.2904C9.99416 20.0857 9.99891 19.8663 10.0702 19.6644C10.1416 19.4626 10.2757 19.2889 10.453 19.169C10.573 19.076 10.989 18.664 10.449 17.717L9.134 15.436C9.02395 15.2453 8.97988 15.0237 9.00862 14.8055C9.03736 14.5872 9.13731 14.3846 9.29296 14.2289C9.44861 14.0733 9.65126 13.9733 9.8695 13.9446C10.0877 13.9158 10.3094 13.9599 10.5 14.07L13.461 15.657L15.023 7.81695ZM12.827 10.705C12.7583 10.4488 12.5907 10.2303 12.3609 10.0977C12.1312 9.96516 11.8582 9.92926 11.602 9.99795C11.3458 10.0666 11.1274 10.2343 10.9948 10.464C10.8622 10.6938 10.8263 10.9668 10.895 11.223L11.173 12.259C11.2473 12.5087 11.4161 12.7196 11.6435 12.8467C11.8709 12.9739 12.139 13.0072 12.3906 12.9397C12.6422 12.8722 12.8576 12.7092 12.9909 12.4853C13.1241 12.2614 13.1647 11.9943 13.104 11.741L12.827 10.705ZM21.243 9.07595C21.2996 8.82414 21.2566 8.56021 21.1231 8.33934C20.9896 8.11848 20.7758 7.95779 20.5266 7.89089C20.2773 7.82399 20.0118 7.85605 19.7856 7.98037C19.5595 8.1047 19.3901 8.31165 19.313 8.55795L19.263 8.73895C19.1958 8.99469 19.2327 9.26662 19.3655 9.49525C19.4983 9.72388 19.7163 9.89061 19.9717 9.95896C20.2271 10.0273 20.4992 9.99172 20.7285 9.85998C20.9577 9.72823 21.1255 9.51105 21.195 9.25595L21.243 9.07595Z" fill="#A468FF"/>
      </svg>
      <svg v-if="props.sale" width="34" height="27" viewBox="0 0 34 27" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="34" height="27" rx="6" fill="#FF413A" fill-opacity="0.11"/>
        <g clip-path="url(#clip0_8_542)">
          <path d="M21.967 12.59C21.9226 12.2338 21.8167 11.888 21.654 11.568L21.649 11.56C21.293 10.869 20.714 10.318 20.147 9.778C19.99 9.628 19.832 9.477 19.677 9.323C19.522 9.168 19.371 9.009 19.22 8.851C18.65 8.251 18.078 7.607 17.314 7.296C17.0209 7.15952 16.708 7.07041 16.387 7.032C16.2591 7.01109 16.1296 7.00039 16 7C12.691 7 10 9.691 10 13C10 16.309 12.691 19 16 19C19.309 19 22 16.309 22 13C22 12.847 21.988 12.712 21.967 12.59ZM16 18.5C14.5418 18.4984 13.1438 17.9184 12.1127 16.8873C11.0816 15.8562 10.5016 14.4582 10.5 13C10.5 10.036 12.758 7.5 15.798 7.511C16.037 7.511 16.535 7.565 16.735 7.694C16.898 7.799 17.006 8.292 17.066 8.662C17.175 9.33 17.31 10.162 18.074 10.926C18.838 11.69 19.67 11.825 20.338 11.934C20.558 11.97 20.742 12.001 20.898 12.045C20.974 12.067 21.042 12.093 21.104 12.123L21.127 12.135C21.1791 12.1628 21.2272 12.1974 21.27 12.238L21.289 12.257C21.3313 12.3016 21.3664 12.3526 21.393 12.408L21.403 12.427C21.466 12.566 21.5 12.746 21.5 13C21.5 16.033 19.033 18.5 16 18.5Z" fill="#FF413A"/>
          <path d="M20.258 12.428C19.558 12.314 18.598 12.159 17.72 11.281C16.842 10.403 16.686 9.44297 16.573 8.74297C16.525 8.44897 16.527 8.19297 16.433 8.11597C16.334 8.03497 16.061 8.00897 15.933 8.00397C13.227 7.91397 11 10.266 11 13C11 15.757 13.243 18 16 18C18.757 18 21 15.757 21 13C21 12.907 20.99 12.815 20.983 12.722C20.943 12.542 20.798 12.516 20.258 12.428ZM12.994 11.762C12.8595 11.6269 12.7813 11.4458 12.7753 11.2553C12.7694 11.0648 12.8361 10.8791 12.962 10.736C13.0059 10.6862 13.0677 10.656 13.1339 10.6519C13.2001 10.6477 13.2653 10.6701 13.315 10.714C13.3647 10.7579 13.395 10.8197 13.3991 10.8859C13.4032 10.9521 13.3809 11.0172 13.337 11.067C13.2916 11.1154 13.2674 11.1798 13.2695 11.2461C13.2717 11.3124 13.3001 11.3751 13.3485 11.4205C13.3969 11.4658 13.4613 11.4901 13.5276 11.4879C13.5939 11.4858 13.6566 11.4574 13.702 11.409C13.781 11.33 13.804 11.239 13.678 11.031L13.652 10.987C13.358 10.502 13.517 10.18 13.702 9.99497C13.8408 9.86203 14.0253 9.78737 14.2175 9.78636C14.4097 9.78536 14.595 9.85808 14.7352 9.98956C14.8754 10.121 14.9598 10.3013 14.9711 10.4931C14.9825 10.685 14.9198 10.8739 14.796 11.021C14.7748 11.0472 14.7486 11.069 14.7188 11.0848C14.689 11.1007 14.6563 11.1103 14.6227 11.1132C14.589 11.1161 14.5552 11.1122 14.5231 11.1016C14.4911 11.0911 14.4615 11.0741 14.4361 11.0518C14.4108 11.0295 14.3903 11.0023 14.3757 10.9719C14.3612 10.9414 14.3529 10.9083 14.3515 10.8746C14.3501 10.8409 14.3555 10.8073 14.3675 10.7757C14.3794 10.7441 14.3976 10.7153 14.421 10.691C14.4665 10.6424 14.4908 10.5778 14.4887 10.5113C14.4865 10.4449 14.458 10.382 14.4095 10.3365C14.361 10.291 14.2964 10.2666 14.2299 10.2688C14.1634 10.271 14.1005 10.2994 14.055 10.348C13.976 10.428 13.953 10.518 14.08 10.728L14.106 10.771C14.399 11.255 14.241 11.577 14.056 11.762C13.9866 11.8321 13.904 11.8879 13.8129 11.9259C13.7219 11.9639 13.6242 11.9835 13.5255 11.9835C13.4268 11.9835 13.3291 11.9639 13.2381 11.9259C13.147 11.8879 13.0634 11.8321 12.994 11.762ZM14.94 13.604C14.8957 13.6039 14.8523 13.5922 14.814 13.5698C14.7758 13.5475 14.7442 13.5154 14.7225 13.4769C14.7007 13.4383 14.6895 13.3947 14.6902 13.3504C14.6908 13.3062 14.7032 13.2629 14.726 13.225L14.891 12.951L14.636 12.697L14.361 12.861C14.3045 12.8908 14.2387 12.8978 14.1771 12.8806C14.1156 12.8634 14.0629 12.8233 14.03 12.7685C13.9971 12.7137 13.9865 12.6484 14.0002 12.586C14.014 12.5236 14.0511 12.4688 14.104 12.433L15.872 11.372C15.9198 11.3433 15.9758 11.3314 16.0312 11.3382C16.0865 11.345 16.138 11.3701 16.1774 11.4096C16.2168 11.449 16.2419 11.5005 16.2488 11.5558C16.2556 11.6111 16.2437 11.6672 16.215 11.715L15.155 13.483C15.1328 13.5201 15.1012 13.5507 15.0635 13.572C15.0258 13.5932 14.9833 13.6042 14.94 13.604ZM16.53 14.945C16.5068 14.9684 16.4793 14.9869 16.4489 14.9996C16.4185 15.0123 16.3859 15.0188 16.353 15.0188C16.3201 15.0188 16.2875 15.0123 16.2571 14.9996C16.2267 14.9869 16.1992 14.9684 16.176 14.945L15.47 14.237C15.4233 14.1901 15.3971 14.1266 15.3971 14.0605C15.3971 13.9943 15.4233 13.9308 15.47 13.884L16.884 12.47C16.9316 12.4274 16.9937 12.4047 17.0576 12.4065C17.1215 12.4082 17.1822 12.4344 17.2274 12.4796C17.2726 12.5247 17.2987 12.5855 17.3005 12.6494C17.3023 12.7132 17.2796 12.7753 17.237 12.823L16 14.061L16.53 14.591C16.5533 14.6142 16.5718 14.6418 16.5844 14.6721C16.597 14.7025 16.6034 14.7351 16.6034 14.768C16.6034 14.8008 16.597 14.8334 16.5844 14.8638C16.5718 14.8942 16.5533 14.9217 16.53 14.945ZM19.358 14.945C19.3111 14.9917 19.2477 15.0179 19.1815 15.0179C19.1153 15.0179 19.0519 14.9917 19.005 14.945L18.475 14.415L18.121 14.768L18.651 15.298C18.6742 15.3212 18.6927 15.3488 18.7053 15.3792C18.7178 15.4095 18.7243 15.4421 18.7243 15.475C18.7243 15.5078 18.7178 15.5404 18.7053 15.5708C18.6927 15.6011 18.6742 15.6287 18.651 15.652C18.6278 15.6752 18.6002 15.6936 18.5698 15.7062C18.5394 15.7188 18.5069 15.7253 18.474 15.7253C18.4411 15.7253 18.4086 15.7188 18.3782 15.7062C18.3478 15.6936 18.3202 15.6752 18.297 15.652L17.767 15.122L17.413 15.475L17.944 16.005C17.9909 16.0519 18.0173 16.1156 18.0173 16.182C18.0173 16.2484 17.9909 16.312 17.944 16.359C17.8971 16.4059 17.8334 16.4323 17.767 16.4323C17.7006 16.4323 17.6369 16.4059 17.59 16.359L16.882 15.652C16.8587 15.6287 16.8402 15.6012 16.8276 15.5708C16.815 15.5404 16.8086 15.5078 16.8086 15.475C16.8086 15.4421 16.815 15.4095 16.8276 15.3791C16.8402 15.3488 16.8587 15.3212 16.882 15.298L18.297 13.883C18.3202 13.8597 18.3478 13.8412 18.3782 13.8286C18.4086 13.816 18.4411 13.8095 18.474 13.8095C18.5069 13.8095 18.5394 13.816 18.5698 13.8286C18.6002 13.8412 18.6278 13.8597 18.651 13.883L19.358 14.591C19.3813 14.6142 19.3998 14.6418 19.4124 14.6721C19.425 14.7025 19.4314 14.7351 19.4314 14.768C19.4314 14.8008 19.425 14.8334 19.4124 14.8638C19.3998 14.8942 19.3813 14.9217 19.358 14.945Z" fill="#FF413A"/>
          <path d="M15.154 12.508L15.27 12.314L15.076 12.431L15.154 12.508Z" fill="#FF413A"/>
        </g>
        <defs>
          <clipPath id="clip0_8_542">
            <rect width="12" height="12" fill="white" transform="translate(10 7)"/>
          </clipPath>
        </defs>
      </svg>

    </div>

    <div
        @mouseenter="startAutoplay"
        @mouseleave="stopAutoplay"
    >
      <Swiper
          ref="mainSwiper"
          :modules="[SwiperPagination, SwiperAutoplay]"
          class="mainSwiper2"
          centered-slides
          :pagination="{ clickable: true }"
          :navigation="{ nextEl: '.swiper-button-custom-next', prevEl: '.swiper-button-custom-prev' }"
          space-between="10"
          :autoplay="false"
      >
      <SwiperSlide>
        <img src="/img/card/3.png" style="margin: auto" alt="" />
      </SwiperSlide>
      <SwiperSlide>
        <img src="/img/card/3.png" style="margin: auto" alt="" />
      </SwiperSlide>
      <SwiperSlide>
        <img src="/img/card/3.png" style="margin: auto" alt="" />
      </SwiperSlide>
      </Swiper>
    </div>
    <div class="flex items-center gap-2 pt-2">
      <div class="flex items-center gap-2 border border-solid border-brand-light-grey py-1 px-2 w-fit rounded-xl">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M8 6.45V8.55C8 10.3 7.3 11 5.55 11H3.45C1.7 11 1 10.3 1 8.55V6.45C1 4.7 1.7 4 3.45 4H5.55C7.3 4 8 4.7 8 6.45Z"
              stroke="#616161" stroke-linecap="round" stroke-linejoin="round"/>
          <path
              d="M11 3.45V5.55C11 7.3 10.3 8 8.55 8H8V6.45C8 4.7 7.3 4 5.55 4H4V3.45C4 1.7 4.7 1 6.45 1H8.55C10.3 1 11 1.7 11 3.45Z"
              stroke="#616161" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <p>
          Код: <span>369597</span>
        </p>
      </div>
      <div class="bg-brand-light-grey2 py-1 px-2 w-fit rounded-xl text-brand-dark-grey">
        <p>
          BG
        </p>
      </div>
    </div>
    <h2 class="pt-3 text-xl font-medium pb-2">597,96 ₽ </h2>
    <div class="flex items-center gap-1 pb-2">
      <svg width="7" height="8" viewBox="0 0 7 8" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="3.5" cy="4" r="3.5" fill="#00B94A"/>
      </svg>
      <p class="text-brand-dark-grey">81 ШТ.</p>
    </div>
    <p class="text-brand-dark-grey text-sm w-[75%] pb-5">
      Ежедневник недатированный, A5, 136л., твердый переплет, кожзам, BG "Winner. Black",
    </p>
    <AppButton class="py-2 mb-2">
      <span class="font-medium">В корзину 1 шт.</span>
    </AppButton>
    <AppButton class="mybutton py-2 hidden" grey v-if="props.fast_view">
      <template #icon>
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M8.625 15.75C12.56 15.75 15.75 12.56 15.75 8.625C15.75 4.68997 12.56 1.5 8.625 1.5C4.68997 1.5 1.5 4.68997 1.5 8.625C1.5 12.56 4.68997 15.75 8.625 15.75Z"
              stroke="#616161" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M16.5 16.5L15 15" stroke="#616161" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round"/>
        </svg>
      </template>
      <span class="font-medium">Быстрый просмотр</span>

    </AppButton>

  </div>
</template>

<script setup>

import {SwiperNavigation, SwiperPagination} from "#imports";
import AppButton from "~/components/layouts/AppButton.vue";

const props = defineProps({
  fast_view: {
    type: Boolean,
    default: false,
  },
  new: {
    type: Boolean,
    default: false,
  },
  top: {
    type: Boolean,
    default: false,
  },
  sale: {
    type: Boolean,
    default: false,
  },

});

const mainSwiper = ref(null);

const startAutoplay = () => {
  mainSwiper.value?.autoplay?.start();
};

const stopAutoplay = () => {
  mainSwiper.value?.autoplay?.stop();
};
</script>

<style lang="scss" scoped>
.mainSwiper {
  .swiper-pagination-bullet {
    width: 32px;
  }
}

.card:hover {

  &>.mybutton {
    display: block;
  }
}
</style>